---
import { Icon } from "astro-icon/components";

interface Props {
  readingTime: string;
  pubDate: Date;
  updatedDate?: Date;
  lang: "en" | "es";
}

const { readingTime, pubDate, updatedDate, lang } = Astro.props;

const formatDate = (date: Date) => {
  return date.toLocaleDateString(lang === 'en' ? 'en-US' : 'es-ES', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });
};
---

<div class="flex flex-wrap items-center gap-4 text-sm text-zinc-500 dark:text-zinc-500">
  <div class="flex items-center gap-1">
    <Icon name="mdi:calendar" class="w-4 h-4" />
    <time datetime={pubDate.toISOString()}>
      {formatDate(pubDate)}
    </time>
  </div>
  
  <div class="flex items-center gap-1">
    <Icon name="mdi:clock-outline" class="w-4 h-4" />
    <span>{readingTime}</span>
  </div>
  
  {updatedDate && (
    <div class="flex items-center gap-1">
      <Icon name="mdi:update" class="w-4 h-4" />
      <span class="italic">
        {lang === 'en' ? 'Updated' : 'Actualizado'} {formatDate(updatedDate)}
      </span>
    </div>
  )}
</div>